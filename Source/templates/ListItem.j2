{% extends "Base.j2" %}

{% block title %}{{ ingredient.name }} — Grocery Guru{% endblock %}

{% block content %}
	<div class="card">
		<p style="margin: 0 0 1rem 0;"><a href="{{ url_for('display_ingredients', user_id=current_user.id, list_name=list.name) }}">← Back to {{ list.name }}</a></p>
		<h1>{{ ingredient.name }}</h1>
		<h2>Edit list item</h2>

		<form method="post" action="{{ url_for('list_item', item_id=item_id) }}" class="list-item-form">
			<input type="hidden" name="action" value="update">
			<div class="form-group">
				<label for="quantity">Quantity</label>
				<input type="number" id="quantity" name="quantity" min="1" max="999" value="{{ list_ingredient.quantity }}" required>
			</div>
			<div class="form-actions">
				<button type="submit" class="btn btn-primary">Save changes</button>
			</div>
		</form>

		<div class="list-item-meta" style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border);">
			<p class="text-muted" style="font-size: 0.9rem; margin: 0 0 0.5rem 0;">
				{% if date_added_str %}
					Added {{ date_added_str }}
				{% endif %}
			</p>
			<form method="post" action="{{ url_for('list_item', item_id=item_id) }}" class="delete-form" onsubmit="return confirm('Are you sure you want to delete this item from {{ list.name }}?');">
				<input type="hidden" name="action" value="delete">
				<button type="submit" class="btn btn-danger" aria-label="Delete item">
				<svg class="trash-icon" viewBox="0 0 24 24" width="20" height="20">
					<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
				</svg>
			</button>
			</form>
		</div>
	</div>
{% endblock %}
