{% extends "Base.j2" %}

{% block title %}My pantry — Grocery Guru{% endblock %}

{% block content %}
	<div class="card">
		<h1>My pantry</h1>
		<h2>Items added via barcode scan</h2>

		{% if inventory_items %}
			<ul class="item-list">
				{% for inv_item, ingredient in inventory_items %}
					<li class="item-list-row">
						<a href="{{ url_for('pantry_item', item_id=inv_item.id) }}" class="item-list-link">
							<span class="item-name">{{ ingredient.name }}</span>
							<span class="item-qty">×{{ inv_item.count }}</span>
							{% if inv_item.date_expires %}
								<span class="text-muted item-expires">(expires {{ inv_item.date_expires|date_str }})</span>
							{% endif %}
						</a>
						<form method="post" action="{{ url_for('delete_pantry_item', item_id=inv_item.id) }}" class="item-delete-form" onsubmit="return confirm('Delete this item from your pantry?');">
							<input type="hidden" name="redirect_to" value="{{ url_for('pantry', user_id=user_id) }}">
							<button type="submit" class="btn btn-danger btn-sm" aria-label="Delete {{ ingredient.name }}">
								<svg class="trash-icon" viewBox="0 0 24 24" width="18" height="18">
									<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
								</svg>
							</button>
						</form>
					</li>
				{% endfor %}
			</ul>
		{% else %}
			<p class="text-muted">No pantry items yet. <a href="/ScanPantryItem">Scan your first item</a>.</p>
		{% endif %}

		<div class="nav-links">
			<a href="/ScanPantryItem">Scan item</a>
		</div>
	</div>
{% endblock %}
